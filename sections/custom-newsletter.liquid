<section class="page-width section-{{ section.id }}-padding" style="padding: 4rem 15px;">
  {{ 'custom-newsletter.css' | asset_url | stylesheet_tag }}

  <script src="{{ 'custom-newsletter.js' | asset_url }}" defer="defer"></script>

  <in style="display: flex; flex-direction: column; align-items: center; gap: 12px">
    <h2
      style="font-weight: 600; color: black; font-size: 20px;margin: 0; padding: 0">{{ section.settings.heading | markdownify }}</h2>
    <span
      style="font-weight:400; font-size: 12px">{{ section.settings.subheading }}</span>

    {%- assign newsletter_id = 'newsletter-' | append: section.id -%}
    {%- form 'customer', id: newsletter_id, class: 'custom-email-form' -%}
        <div class="input-control">
            <div class="custom-form-main">
                <label
                for="custom-email-input"
                aria-hidden="Email input"
                hidden>
                </label>
                <input
                name="contact[tags]"
                type="text"
                id="email"
                placeholder="{{ section.settings.placehoder_text }}" 
                />
                <button type="submit" class="custom-submit-btn">
                    {% render 'custom-icon-arrow-right' %}
                </button>
            </div>
            {% if form.errors %}
                <span class="error">
                    {{ form.errors | default_errors  }}
                </span>
            {% endif %}
        </div>
    {% endform %}
</section>

{% schema %}
  {
    "name": "Newsletter section",
    "tag": "section",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Section heading",
        "default": "Inscrivez-vous Ã  notre newsletter"
      }, {
        "type": "text",
        "id": "subheading",
        "label": "Section subheading",
        "default": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus, magnam?"
      }, {
        "type": "text",
        "id": "placehoder_text",
        "label": "Section placeholder text",
        "default": "Adresse e-mail"
      }
    ],
    "presets": [
      {
        "name": "Newsletter section"
      }
    ]
  }
{% endschema %}